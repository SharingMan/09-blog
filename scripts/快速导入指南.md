# Notion 导入快速指南

## 🚀 最简单的方法（推荐）

### 步骤 1：从 Notion 导出

1. 在 Notion 中选择要导出的页面
2. 点击右上角 **"..."** → **"Export"**
3. 选择格式：**Markdown & CSV** → **Markdown**
4. 点击 **"Export"**
5. 保存下载的文件（通常是一个 `.md` 文件和一个同名文件夹，文件夹里包含图片）

### 步骤 2：一键导入

```bash
cd "/Users/jiyingshe/Desktop/AI学习/09-blog"

# 自动处理 Markdown 和图片
node scripts/import-notion.js ~/Downloads/你的周记.md
```

就这么简单！脚本会自动：
- ✅ 提取文章标题和日期
- ✅ 自动查找并复制图片
- ✅ 更新图片路径
- ✅ 生成文章文件

## 📝 完整用法

如果需要指定更多信息：

```bash
node scripts/import-notion.js ~/Downloads/周记.md \
  --title "2026年第2周周记" \
  --date "2026-01-12" \
  --category "生活" \
  --tags "周记,反思"
```

## 🖼️ 图片处理说明

### 自动处理

脚本会自动：
1. 在 Markdown 文件同目录查找图片
2. 在同名文件夹中查找图片（Notion 导出的常见格式）
3. 在父目录中查找图片
4. 复制找到的图片到 `public/images/articles/`
5. 更新 Markdown 中的图片路径

### 手动指定图片目录

如果图片在其他位置：

```bash
node scripts/import-notion.js ~/Downloads/周记.md \
  --images-dir ~/Downloads/周记图片文件夹
```

## 📋 参数说明

| 参数 | 说明 | 必需 | 示例 |
|------|------|------|------|
| `markdown文件` | Markdown 文件路径 | ✅ | `~/Downloads/周记.md` |
| `--title` | 文章标题 | ❌ | `"2026年第2周周记"` |
| `--date` | 发布日期 | ❌ | `"2026-01-12"` |
| `--category` | 文章分类 | ❌ | `"生活"` |
| `--tags` | 文章标签（逗号分隔） | ❌ | `"周记,反思"` |
| `--images-dir` | 图片搜索目录 | ❌ | `~/Downloads/图片文件夹` |

## 💡 使用技巧

### 1. 批量导入

创建一个脚本 `import-all.sh`：

```bash
#!/bin/bash
cd "/Users/jiyingshe/Desktop/AI学习/09-blog"

node scripts/import-notion.js ~/Downloads/周记1.md --category "生活" --tags "周记"
node scripts/import-notion.js ~/Downloads/周记2.md --category "生活" --tags "周记"
node scripts/import-notion.js ~/Downloads/周记3.md --category "生活" --tags "周记"
```

然后运行：

```bash
chmod +x import-all.sh
./import-all.sh
```

### 2. 从文件名自动提取信息

脚本会尝试从文件名提取标题，例如：
- `2026年第2周周记.md` → 标题：`2026年第2周周记`
- `2025-01-17 日记.md` → 标题：`日记`

### 3. 图片路径处理

- ✅ 自动处理相对路径
- ✅ 自动处理 URL 编码的路径
- ✅ 自动查找子目录中的图片
- ✅ 避免重复复制（相同文件名会添加时间戳）

## 🔍 常见问题

### Q: 图片没有显示？

A: 检查：
1. 图片文件是否存在于导出文件夹中
2. 使用 `--images-dir` 指定正确的图片目录
3. 查看控制台输出，确认图片是否被找到和复制

### Q: 如何查看导入结果？

A: 导入成功后，脚本会显示：
- 生成的文件名
- 文章标题
- 日期
- 阅读时间
- 分类和标签（如果指定）

### Q: 可以导入网络图片吗？

A: 可以！如果 Markdown 中已经是网络图片链接（`http://` 或 `https://`），脚本会保持原样。

### Q: 如何更新已导入的文章？

A: 直接编辑 `app/data/articles/` 目录下的 `.md` 文件即可。

## 📚 更多帮助

- 详细文档：`scripts/README.md`
- 文章格式说明：`app/data/articles/README.md`

## 🎉 开始使用

现在您只需要：

1. 从 Notion 导出 Markdown
2. 运行导入命令
3. 完成！

就是这么简单！
